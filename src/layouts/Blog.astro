---
import Layout from "@layouts/Layout.astro"
const allPosts = await Astro.glob("../pages/posts/*.md")
// import {getCollection} from "astro:content"
// const allPosts = await getCollection("posts")
// const {frontmatter} = Astro.props
---

<Layout>
  <h1 class="blog-note-title">
    Blog
    <div class="catalogue-line"></div>
  </h1>
  <slot />
  <article class="catalogue">
    {
      allPosts.map((post) => (
        <a class="catalogue-item" href={post.url}>
          <time
            class="catalogue-date"
            datetime={post.frontmatter.pubDate?.toString().slice(0, 10)}>
            {post.frontmatter.pubDate?.toString().slice(0, 10)}
          </time>
          <h2 class="catalogue-title">{post.frontmatter.title}</h2>
          <div class="catalogue-line" />
          <p class="catalogue-description">{post.frontmatter.description}</p>
        </a>
      ))
    }
  </article>
</Layout>
